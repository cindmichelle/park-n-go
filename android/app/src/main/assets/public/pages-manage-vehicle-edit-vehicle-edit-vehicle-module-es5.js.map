{"version":3,"sources":["./src/app/pages/manage-vehicle/edit-vehicle/edit-vehicle.page.html","./src/app/pages/manage-vehicle/edit-vehicle/edit-vehicle.module.ts","./src/app/pages/manage-vehicle/edit-vehicle/edit-vehicle.page.scss","./src/app/pages/manage-vehicle/edit-vehicle/edit-vehicle.page.ts"],"names":[],"mappings":"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","file":"pages-manage-vehicle-edit-vehicle-edit-vehicle-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-title>Edit Vehicle</ion-title>\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-button slot=\\\"icon-only\\\" (click)=\\\"backToManage()\\\">\\r\\n        <ion-icon name=\\\"close\\\" class=\\\"close-btn\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content class=\\\"ion-padding\\\">\\r\\n  <form #editVehicle=\\\"ngForm\\\" (ngSubmit)=\\\"editVehicleInDB()\\\">\\r\\n    <ion-list padding lines=\\\"full\\\" class=\\\"ion-padding\\\">\\r\\n      <ion-item class=\\\"input-container\\\">\\r\\n        <ion-label style=\\\"font-size: 13px;\\\">Vehicle Type</ion-label>\\r\\n        <ion-select interface=\\\"action-sheet\\\" class=\\\"selector\\\" name=\\\"vType\\\" [(ngModel)]=\\\"vType\\\">\\r\\n          <ion-select-option value=\\\"Motorcycle\\\" style=\\\"font-size:20px\\\">Motorcycle</ion-select-option>\\r\\n          <ion-select-option value=\\\"Car\\\">Car</ion-select-option>\\r\\n        </ion-select>\\r\\n      </ion-item>\\r\\n      <ion-item class=\\\"input-container\\\">\\r\\n        <ion-label position=\\\"stacked\\\">Vehicle Model</ion-label>\\r\\n        <ion-input\\r\\n                class=\\\"input\\\"\\r\\n                required\\r\\n                inputmode=\\\"text\\\"\\r\\n                oninput=\\\"handleFirstNameValue(event)\\\"\\r\\n                name=\\\"vModel\\\"\\r\\n                [(ngModel)]=\\\"vModel\\\"\\r\\n        ></ion-input>\\r\\n      </ion-item>\\r\\n      <ion-item class=\\\"input-container\\\">\\r\\n        <ion-label position=\\\"stacked\\\">Plate Number</ion-label>\\r\\n        <ion-input\\r\\n                class=\\\"input\\\"\\r\\n                required\\r\\n                inputmode=\\\"text\\\"\\r\\n                oninput=\\\"handleFirstNameValue(event)\\\"\\r\\n                name=\\\"plateNo\\\"\\r\\n                [(ngModel)]=\\\"plateNo\\\"\\r\\n        ></ion-input>\\r\\n      </ion-item>\\r\\n    </ion-list>\\r\\n    <ion-button expand=\\\"block\\\" type=\\\"submit\\\" class=\\\"add-btn\\\">Edit Vehicle</ion-button>\\r\\n    <ion-button expand=\\\"block\\\" color=\\\"danger add-btn\\\" (click)=\\\"deleteVehicleFromDB()\\\">Delete Vehicle</ion-button>\\r\\n  </form>\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { EditVehiclePage } from './edit-vehicle.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: EditVehiclePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [EditVehiclePage]\r\n})\r\nexport class EditVehiclePageModule {}\r\n","module.exports = \"ion-toolbar {\\n  --ion-color-base: transparent !important;\\n  --background: transparent;\\n  background-image: url('header.png');\\n  background-size: cover;\\n  background-repeat: no-repeat;\\n  height: 57px;\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-align: center;\\n          align-items: center;\\n}\\n\\nion-title {\\n  color: white;\\n  font-size: 17px;\\n  font-family: \\\"bold\\\";\\n  text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);\\n}\\n\\n.selector {\\n  font-size: 12px;\\n}\\n\\n.close-btn {\\n  color: white;\\n  font-size: 35px;\\n  text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);\\n}\\n\\n.input {\\n  font-family: \\\"regular\\\";\\n  font-size: 14px;\\n}\\n\\n.add-btn {\\n  border: 1px #f17800 solid;\\n  margin-bottom: 20px;\\n  margin-left: 20px;\\n  margin-right: 20px;\\n  border-radius: 10px;\\n  font-size: 18px;\\n  height: 52px;\\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.5);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvbWFuYWdlLXZlaGljbGUvZWRpdC12ZWhpY2xlL0M6XFxQcm9qZWN0XFxwYXJrLW4tZ28vc3JjXFxhcHBcXHBhZ2VzXFxtYW5hZ2UtdmVoaWNsZVxcZWRpdC12ZWhpY2xlXFxlZGl0LXZlaGljbGUucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9tYW5hZ2UtdmVoaWNsZS9lZGl0LXZlaGljbGUvZWRpdC12ZWhpY2xlLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHdDQUFBO0VBQ0EseUJBQUE7RUFDQSxtQ0FBQTtFQUNBLHNCQUFBO0VBQ0EsNEJBQUE7RUFDQSxZQUFBO0VBQ0Esb0JBQUE7RUFBQSxhQUFBO0VBQ0EseUJBQUE7VUFBQSxtQkFBQTtBQ0NGOztBREVBO0VBQ0UsWUFBQTtFQUNBLGVBQUE7RUFDQSxtQkFBQTtFQUNBLDBDQUFBO0FDQ0Y7O0FERUE7RUFDRSxlQUFBO0FDQ0Y7O0FERUE7RUFDRSxZQUFBO0VBQ0EsZUFBQTtFQUNBLDBDQUFBO0FDQ0Y7O0FERUE7RUFDRSxzQkFBQTtFQUNBLGVBQUE7QUNDRjs7QURFQTtFQUNFLHlCQUFBO0VBQ0EsbUJBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0VBQ0EsWUFBQTtFQUNBLDBDQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9tYW5hZ2UtdmVoaWNsZS9lZGl0LXZlaGljbGUvZWRpdC12ZWhpY2xlLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi10b29sYmFyIHtcclxuICAtLWlvbi1jb2xvci1iYXNlOiB0cmFuc3BhcmVudCAhaW1wb3J0YW50O1xyXG4gIC0tYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XHJcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcuLi8uLi8uLi8uLi9hc3NldHMvaW1hZ2VzL2hlYWRlci5wbmcnKTtcclxuICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xyXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XHJcbiAgaGVpZ2h0OiA1N3B4O1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufVxyXG5cclxuaW9uLXRpdGxlIHtcclxuICBjb2xvcjogd2hpdGU7XHJcbiAgZm9udC1zaXplOiAxN3B4O1xyXG4gIGZvbnQtZmFtaWx5OiAnYm9sZCc7XHJcbiAgdGV4dC1zaGFkb3c6IDAgMnB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjUpO1xyXG59XHJcblxyXG4uc2VsZWN0b3Ige1xyXG4gIGZvbnQtc2l6ZTogMTJweDtcclxufVxyXG5cclxuLmNsb3NlLWJ0biB7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIGZvbnQtc2l6ZTogMzVweDtcclxuICB0ZXh0LXNoYWRvdzogMCAycHggMTBweCByZ2JhKDAsIDAsIDAsIDAuNSk7XHJcbn1cclxuXHJcbi5pbnB1dCB7XHJcbiAgZm9udC1mYW1pbHk6ICdyZWd1bGFyJztcclxuICBmb250LXNpemU6IDE0cHg7XHJcbn1cclxuXHJcbi5hZGQtYnRuIHtcclxuICBib3JkZXI6IDFweCAjZjE3ODAwIHNvbGlkO1xyXG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XHJcbiAgbWFyZ2luLWxlZnQ6IDIwcHg7XHJcbiAgbWFyZ2luLXJpZ2h0OiAyMHB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgZm9udC1zaXplOiAxOHB4O1xyXG4gIGhlaWdodDogNTJweDtcclxuICBib3gtc2hhZG93OiAwIDFweCAzcHggMCByZ2JhKDAsIDAsIDAsIDAuNSk7XHJcbn1cclxuIiwiaW9uLXRvb2xiYXIge1xuICAtLWlvbi1jb2xvci1iYXNlOiB0cmFuc3BhcmVudCAhaW1wb3J0YW50O1xuICAtLWJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIuLi8uLi8uLi8uLi9hc3NldHMvaW1hZ2VzL2hlYWRlci5wbmdcIik7XG4gIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XG4gIGhlaWdodDogNTdweDtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuaW9uLXRpdGxlIHtcbiAgY29sb3I6IHdoaXRlO1xuICBmb250LXNpemU6IDE3cHg7XG4gIGZvbnQtZmFtaWx5OiBcImJvbGRcIjtcbiAgdGV4dC1zaGFkb3c6IDAgMnB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjUpO1xufVxuXG4uc2VsZWN0b3Ige1xuICBmb250LXNpemU6IDEycHg7XG59XG5cbi5jbG9zZS1idG4ge1xuICBjb2xvcjogd2hpdGU7XG4gIGZvbnQtc2l6ZTogMzVweDtcbiAgdGV4dC1zaGFkb3c6IDAgMnB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjUpO1xufVxuXG4uaW5wdXQge1xuICBmb250LWZhbWlseTogXCJyZWd1bGFyXCI7XG4gIGZvbnQtc2l6ZTogMTRweDtcbn1cblxuLmFkZC1idG4ge1xuICBib3JkZXI6IDFweCAjZjE3ODAwIHNvbGlkO1xuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICBtYXJnaW4tbGVmdDogMjBweDtcbiAgbWFyZ2luLXJpZ2h0OiAyMHB4O1xuICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICBmb250LXNpemU6IDE4cHg7XG4gIGhlaWdodDogNTJweDtcbiAgYm94LXNoYWRvdzogMCAxcHggM3B4IDAgcmdiYSgwLCAwLCAwLCAwLjUpO1xufSJdfQ== */\"","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { LoadingController, NavController } from '@ionic/angular';\r\nimport { ManageVehicleService } from '../../../services/manage-vehicle.service';\r\nimport { AngularFirestore } from '@angular/fire/firestore';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { NgForm } from '@angular/forms';\r\nimport { AsyncStorageService } from '../../../native/async-storage.service';\r\nimport { Vehicle } from '../../../model/vehicle.model';\r\n\r\n@Component({\r\n  selector: 'app-edit-vehicle',\r\n  templateUrl: './edit-vehicle.page.html',\r\n  styleUrls: ['./edit-vehicle.page.scss'],\r\n})\r\nexport class EditVehiclePage implements OnInit {\r\n\r\n  @ViewChild('editVehicle', { static: true }) form!: NgForm;\r\n  vType!: string;\r\n  vModel!: string;\r\n  plateNo!: string;\r\n  private vehicleId!: string;\r\n  private email!: string;\r\n\r\n  constructor(\r\n    private navCtrl: NavController,\r\n    private loadCtrl: LoadingController,\r\n    private manageVehicleSvc: ManageVehicleService,\r\n    private activatedRoute: ActivatedRoute,\r\n    private storage: AsyncStorageService,\r\n    private firestore: AngularFirestore\r\n  ) {}\r\n\r\n  async ngOnInit() {\r\n    this.email = await this.storage.get('token');\r\n\r\n    this.activatedRoute.paramMap.subscribe(paramMap => {\r\n      if (!paramMap.has('id')) {\r\n        this.backToManage();\r\n      }\r\n\r\n      this.vehicleId = paramMap.get('id') + '';\r\n      console.log(this.vehicleId);\r\n\r\n      const data = this.firestore.doc<Vehicle>('vehicles/' + this.vehicleId);\r\n      const result = data.valueChanges();\r\n      result.subscribe(res => {\r\n        // @ts-ignore\r\n        this.vType = res.vehicleType;\r\n        // @ts-ignore\r\n        this.vModel = res.vehicleModel;\r\n        // @ts-ignore\r\n        this.plateNo = res.plateNo;\r\n      });\r\n    });\r\n  }\r\n\r\n  async editVehicleInDB() {\r\n    const loading = await this.loadCtrl.create({\r\n      message: 'Editing your vehicle...',\r\n    });\r\n    await loading.present();\r\n\r\n    // Get data from Form\r\n    const model = this.form.value.vModel;\r\n    const type = this.form.value.vType;\r\n    const plate = this.form.value.plateNo;\r\n    const email = await this.storage.get('token');\r\n\r\n    this.manageVehicleSvc.editVehicle(email, plate, model, type, this.vehicleId);\r\n\r\n    await loading.dismiss();\r\n    this.backToManage();\r\n  }\r\n\r\n  async deleteVehicleFromDB() {\r\n    const loading = await this.loadCtrl.create({\r\n      message: 'Deleting your vehicle...',\r\n    });\r\n    await loading.present();\r\n\r\n    await this.manageVehicleSvc.deleteVehicle(this.vehicleId, this.email);\r\n\r\n    await loading.dismiss();\r\n    this.backToManage();\r\n  }\r\n\r\n  backToManage() {\r\n    this.navCtrl.navigateBack('account/manage-vehicle').then(r => r);\r\n  }\r\n}\r\n"],"sourceRoot":""}