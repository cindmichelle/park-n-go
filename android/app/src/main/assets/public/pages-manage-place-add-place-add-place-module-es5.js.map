{"version":3,"sources":["./src/app/pages/manage-place/add-place/add-place.page.html","./src/app/pages/manage-place/add-place/add-place.module.ts","./src/app/pages/manage-place/add-place/add-place.page.scss","./src/app/pages/manage-place/add-place/add-place.page.ts"],"names":[],"mappings":"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","file":"pages-manage-place-add-place-add-place-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-title>Add Place</ion-title>\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-button slot=\\\"icon-only\\\" (click)=\\\"backToManage()\\\">\\r\\n        <ion-icon name=\\\"close\\\" class=\\\"close-btn\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content class=\\\"ion-padding\\\">\\r\\n  <form #addPlace=\\\"ngForm\\\">\\r\\n    <ion-list padding lines=\\\"full\\\" class=\\\"ion-padding\\\">\\r\\n      <ion-item class=\\\"input-container\\\">\\r\\n        <ion-label position=\\\"stacked\\\">Area Name</ion-label>\\r\\n        <ion-input\\r\\n                class=\\\"input\\\"\\r\\n                required\\r\\n                inputmode=\\\"text\\\"\\r\\n                name=\\\"areaName\\\"\\r\\n                ngModel\\r\\n        ></ion-input>\\r\\n      </ion-item>\\r\\n\\r\\n      <ion-item>\\r\\n        <ion-label position=\\\"stacked\\\">Address</ion-label>\\r\\n        <ion-textarea required class=\\\"input\\\" name=\\\"address\\\" ngModel></ion-textarea>\\r\\n\\r\\n      </ion-item>\\r\\n\\r\\n      <ion-item class=\\\"input-container\\\">\\r\\n        <ion-label position=\\\"stacked\\\">Price per hour</ion-label>\\r\\n        <ion-input\\r\\n                class=\\\"input\\\"\\r\\n                required\\r\\n                inputmode=\\\"numeric\\\"\\r\\n                name=\\\"pricePerHour\\\"\\r\\n                ngModel\\r\\n        ></ion-input>\\r\\n      </ion-item>\\r\\n\\r\\n<!--      <ion-item class=\\\"input-container\\\">-->\\r\\n<!--        <ion-label position=\\\"stacked\\\">Location ***put map here***</ion-label>-->\\r\\n<!--        <ion-input-->\\r\\n<!--                class=\\\"input\\\"-->\\r\\n<!--                required-->\\r\\n<!--                inputmode=\\\"numeric\\\"-->\\r\\n<!--        ></ion-input>-->\\r\\n<!--      </ion-item>-->\\r\\n<!--      <ion-item class=\\\"input-container\\\">-->\\r\\n<!--        <ion-label position=\\\"stacked\\\">Upload Picture **need more info**</ion-label>-->\\r\\n<!--        <ion-input-->\\r\\n<!--                class=\\\"input\\\"-->\\r\\n<!--                required-->\\r\\n<!--                inputmode=\\\"numeric\\\"-->\\r\\n<!--        ></ion-input>-->\\r\\n<!--      </ion-item>-->\\r\\n    </ion-list>\\r\\n    <ion-button expand=\\\"block\\\" (click)=\\\"addPlaceLatLng()\\\">Set Location on Map</ion-button>\\r\\n<!--    <ion-button expand=\\\"block\\\" color=\\\"tertiary\\\" type=\\\"submit\\\" class=\\\"upload-btn\\\">Upload from Gallery</ion-button>-->\\r\\n    <ion-button\\r\\n            expand=\\\"block\\\"\\r\\n            type=\\\"submit\\\"\\r\\n            class=\\\"add-btn\\\"\\r\\n            [routerLink]=\\\"['/', 'account', 'manage-place']\\\"\\r\\n            (click)=\\\"addPlaceToDB()\\\"\\r\\n            [disabled]=\\\"!locLatLng\\\"\\r\\n    >Add Place</ion-button\\r\\n    >\\r\\n  </form>\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { AddPlacePage } from './add-place.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: AddPlacePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [AddPlacePage],\r\n})\r\nexport class AddPlacePageModule {}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL21hbmFnZS1wbGFjZS9hZGQtcGxhY2UvYWRkLXBsYWNlLnBhZ2Uuc2NzcyJ9 */\"","import { AsyncStorageService } from './../../../native/async-storage.service';\r\nimport { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { ManagePlaceService } from '../../../services/manage-place.service';\r\nimport { Place } from '../../../model/place.model';\r\nimport { ModalController, NavController } from '@ionic/angular';\r\nimport { NgForm } from '@angular/forms';\r\nimport { PickLocationComponent } from '../../../components/pick-location/pick-location.component';\r\n\r\n@Component({\r\n  selector: 'app-add-place',\r\n  templateUrl: './add-place.page.html',\r\n  styleUrls: ['./add-place.page.scss'],\r\n})\r\n\r\nexport class AddPlacePage implements OnInit {\r\n\r\n  private locLat!: number;\r\n  private locLng!: number;\r\n\r\n  locLatLng = false;\r\n\r\n  places: Place = {\r\n    areaName: '',\r\n    address: '',\r\n    email: '',\r\n    pricePerHour: 0,\r\n    locLatitude: 0,\r\n    locLongitude: 0,\r\n  };\r\n\r\n  @ViewChild('addPlace', { static: true }) form!: NgForm;\r\n  private emailUser!: string;\r\n\r\n  constructor(\r\n    private placeService: ManagePlaceService,\r\n    private navCtrl: NavController,\r\n    private storage: AsyncStorageService,\r\n    private modalCtrl: ModalController,\r\n  ) {\r\n  }\r\n\r\n  async ngOnInit() {\r\n    this.emailUser = await this.storage.get('token');\r\n  }\r\n\r\n  async addPlaceToDB() {\r\n    const areaName = this.form.value.areaName;\r\n    const address = this.form.value.address;\r\n    const pricePerHour = this.form.value.pricePerHour;\r\n\r\n    const locLatitude = this.locLat;\r\n    const locLongitude = this.locLng;\r\n\r\n    const email = this.emailUser;\r\n\r\n    this.places = {\r\n      address,\r\n      areaName,\r\n      email,\r\n      locLatitude,\r\n      locLongitude,\r\n      pricePerHour,\r\n    };\r\n\r\n    console.log(this.places);\r\n\r\n    await this.placeService.addPlace(this.places);\r\n  }\r\n\r\n  addPlacePicture() {\r\n    console.log('Picture Added');\r\n  }\r\n\r\n  async addPlaceLatLng() {\r\n    const modal = await this.modalCtrl.create({\r\n      component: PickLocationComponent,\r\n    });\r\n\r\n    await modal.present();\r\n\r\n    await modal.onDidDismiss().then((location) => {\r\n      console.log('add place page ts', location);\r\n      console.log('add place page ts', location.data.lat, location.data.lng);\r\n      this.locLat = location.data.lat;\r\n      this.locLng = location.data.lng;\r\n    }).then( () => {\r\n      this.locLatLng = true;\r\n    });\r\n  }\r\n\r\n  backToManage() {\r\n    this.navCtrl.navigateBack('account/manage-place').then(r => r);\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}